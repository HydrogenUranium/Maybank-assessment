<!--/*
    Copyright 2015 Adobe Systems Incorporated

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
*/-->
<sly data-sly-test.editmode="${wcmmode.edit || wcmmode.preview}" />
<div
        data-sly-use.downloadasset="com.positive.dhl.core.models.DownloadAsset"
        data-sly-use.accountactions="com.positive.dhl.core.models.AccountActions"
        data-sly-use.marketoConfig="com.positive.dhl.core.models.MarketoConfiguration">
<!--/*   Following segment is rendered by AEM in case the home page (relative to page that contains this component) has in its properties downloadmarketo as FALSE   */-->
	<div id="download" class="DHLdownload" data-sly-test="${(accountactions.downloadmarketo != true)}">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-12">
					<div class="row">
						<div class="col-12">
							<div class="DHLdownload__text">
								<h2 class="DHLdownload__title">${properties.title}</h2>
								<p class="DHLdownload__copy">${properties.brief}</p>

								<img class="DHLdownload__image d-block d-md-none" src="${!editmode ? accountactions.assetprefix : '' @ context='unsafe'}${properties.assetimage}" alt="${properties.title}" />

								<div class="DHLdownload__ctas no-logged-in" style="display: none;">
									<button class="DHLdownload__cta--red" data-show-hide-target="download-form">${ 'Register to download' @ i18n, context='html' }</button>

									<p class="DHLdownload__copy DHLdownload__copy--small">
										Already a Discover Member? <a href="${accountactions.loginUrl @context = 'unsafe'}">${ 'Login to download' @ i18n, context='html' }</a>
									</p>
								</div>
								<div class="DHLdownload__ctas logged-in" style="display: none;" data-assetinfo="${downloadasset.encodedAssetPath @ context = 'unsafe'}">
									<a href="#" target="_blank" class="DHLdownload__cta--red">${properties.ctatitle}</a>
								</div>
							</div>
							<img class="DHLdownload__image d-none d-md-block" src="${!editmode ? accountactions.assetprefix : '' @ context='unsafe'}${properties.assetimage}" alt="${properties.title}" />
						</div>
					</div>
					<div id="glb-register-start" class="DHLdownload__hidden-form" data-show-hide-id="download-form">
						<div class="forms">
							<div class="forms__group--text row-socials" data-bar-text="Register with">
								<form action="" method="post">
								<div class="forms__row">
									<div class="col-4" style="display: none;">
										<button class="forms__cta--social li linkedin">
											<span class="forms__icon--linkedin"></span>
											<span class="forms__button-text">${ 'LinkedIn' @ i18n, context='html' }</span>
										</button>
									</div>
									<div class="col-4" style="display: none;">
										<button class="forms__cta--social go google">
											<span class="forms__icon--google"></span>
											<span class="forms__button-text">${ 'Google' @ i18n, context='html' }</span>
										</button>
									</div>
									<div class="col-4">
										<button class="forms__cta--social fb facebook" style="margin-bottom: 25px;">
											<span class="forms__icon--facebook"></span>
											<span class="forms__button-text">${ 'Facebook' @ i18n, context='html' }</span>
										</button>
									</div>
								</div>
								</form>
							</div>
							<div class="forms_group--text" data-bar-text="${ 'or' @ i18n, context='html' }">
								<form id="register-detail-form" action="" method="post" autocomplete="off">
								<h2 class="forms__subtitle">${ 'Register using your email address' @ i18n, context='html' }</h2>
								<div class="forms__row">
									<div class="col-12 col-md-6">
										<input id="register__firstname" name="firstname" type="text" placeholder="${ 'First name' @ i18n, context='html' }*" required data-msg="${ 'Enter first name' @ i18n, context='html' }" />
									</div>
									<div class="col-12 col-md-6">
										<input id="register__lastname" name="lastname" type="text" placeholder="${ 'Last name' @ i18n, context='html' }*" required data-msg="${ 'Enter last name' @ i18n, context='html' }" />
									</div>
								</div>
								<div class="forms__row">
									<div class="col-12">
										<input id="register__email" type="email" placeholder="Email" name="email" required data-msg="${ 'Enter a valid email address' @ i18n, context='html' }" />
										<div class="forms__copy--small">
											${accountactions.signupEmailPrivacyMessage @context='html'}
										</div>
									</div>
								</div>
								<p class="forms__copy"><strong>${ 'Setting a password gives you free unrestricted access to the whole site.' @ i18n, context='html' }</strong></p>

								<div class="forms__row">
									<div class="col-12">
<div
											class="forms__password has-validity-check input-group mb-3">
											<input id="register__password1" name="password" type="password" class="form-control" placeholder="${ 'Create password (optional)' @ i18n, context='html' }" data-msg="${ 'Enter your password' @ i18n, context='html' }" autocomplete="off" />
											<div class="input-group-append">
												<div class="input-group-text">
													<input type="checkbox" id="showme1" data-field-id="register__password1"> <label for="showme1">${ 'Show' @ i18n, context='html' }</label>
												</div>
											</div>
										</div>
										<ul class="validity-checks" data-field-id="register__password1">
											<li class="validity-checks__check" data-check="casing">
												<div class="validity-checks__circle"></div> <span class="validity-checks__criterion">${ 'lower and upper case' @ i18n, context='html' }</span>
											</li>
											<li class="validity-checks__check" data-check="special">
												<div class="validity-checks__circle"></div> <span class="validity-checks__criterion">${ 'special character' @ i18n, context='html' }</span>
											</li>
											<li class="validity-checks__check" data-check="number">
												<div class="validity-checks__circle"></div> <span class="validity-checks__criterion">${ 'number' @ i18n, context='html' }</span>
											</li>
											<li class="validity-checks__check" data-check="length">
												<div class="validity-checks__circle"></div> <span class="validity-checks__criterion">${ '8+ characters' @ i18n, context='html' }</span>
											</li>
										</ul>
									</div>
								</div>

								<div class="forms__row">
									<div class="col-12">
										<div class="forms__checkbox">
											<input id="checkboxId10" type="checkbox" name="required" /> <label for="checkboxId10">${accountactions.signupTCMessage @context='html'}</label>
										</div>
									</div>
								</div>
								<div class="forms__row">
									<div class="col-12 col-md-6">
										<input type="submit" class="forms__cta--red" value="Register${ '' @ i18n, context='html' }" />
									</div>
								</div>
								<p class="forms__copy--small">${ 'Already have an account?' @ i18n, context='html' } <a href="${accountactions.loginUrl @context = 'unsafe'}" target="_blank">${ 'Login' @ i18n, context='html' }</a></p>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

<!--/*   Following section is only rendered by AEM if the home page (relative to the page where this component is located) has downloadmarketo set to TRUE   */-->
	<div data-sly-test="${(accountactions.downloadmarketo == true)}" id="download" class="DHLdownload">
 		<div class="container">
			<div class="row justify-content-center">
				<div class="col-12">
					<div class="row">
						<div class="col-12">
							<div class="DHLdownload__text">
								<h2 class="DHLdownload__title">${properties.title}</h2>
								<p class="DHLdownload__copy">${properties.brief}</p>

								<img class="DHLdownload__image d-block d-md-none" src="${!editmode ? accountactions.assetprefix : '' @ context='unsafe'}${properties.assetimage}" alt="${properties.title}" />

								<div class="forms marketoForm"
                                     data-sly-set.marketoHostname="${marketoConfig.marketoHostname}"
                                     data-sly-set.marketoMunchkinId="${marketoConfig.marketoMunchkinId}"
                                     data-sly-set.marketoFormId="${marketoConfig.marketoFormId}"
                                     data-sly-set.marketoHiddenFormId="${marketoConfig.hiddenMarketoId}"
									 hiddenFormId="${marketoHiddenFormId || '1724' @ context='attribute'}"
									 munchkinid="${marketoMunchkinId || '903-EZK-832' @ context='attribute'}"
									 formid="${marketoFormId || '1796' @ context='attribute'}"
									 formHost="${marketoHostname || 'https://express-resource.dhl.com' @ context='attribute'}"
                                     action="${accountactions.getAssetprefix}${currentPage.path}.form.html"
                                     formstart="${accountactions.getAssetprefix}${currentNode.path}.form.html"
                                     source="conf"
                                     data-marketo-form>

								  <div data-marketo-visible-form>
									<div class="wysiwyg">
									  <form id="mktoForm_${marketoFormId || '1796' @ context='attribute'}">
                                          <script src="${marketoConfig.marketoHostname}/js/forms2/js/forms2.min.js"></script>
                                      </form>
									</div>
								  </div>
								</div>
    						</div>
							<img class="DHLdownload__image d-none d-md-block" src="${!editmode ? accountactions.assetprefix : '' @ context='unsafe'}${properties.assetimage}" alt="${properties.title}" />
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
